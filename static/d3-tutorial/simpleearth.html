<!DOCTYPE html>
<html>
  <head>
    <title>Render the Earth</title>
    <script src="/static/js/d3.min.js"></script>
    <script src="/static/js/topojson.js"></script>
  </head>
  <body>
    <svg width="1600" height="800" id="mainsvg" class="svgs"></svg>
    <script>

    let svg = d3.select('svg');
    const width = +svg.attr('width');
    const height = +svg.attr('height');
    const margin = {top: 60, right: 60, bottom: 10, left: 60};
    const innerWidth = width - margin.left - margin.right;
    const innerHeight = height - margin.top - margin.bottom;
    const g = svg.append('g').attr('id', 'maingroup')
    .attr('transform', `translate(${margin.left}, ${margin.top})`);

    // convert dataPath to svgPath; 
    // go to https://github.com/d3/d3-geo for more different projections; 
    //const projection = d3.geoMercator();
    //const projection = d3.geoOrthographic();
    //const projection = d3.geoStereographic();
    //const projection = d3.geoEquirectangular();
    const projection = d3.geoNaturalEarth1();
    //const projection = d3.geoTransverseMercator();
    const pathGenerator = d3.geoPath().projection(projection);

    d3.json('/static/data/countries-110m.json').then( data => {
          
          let worldmeta = topojson.feature(data, data.objects.countries);
          console.log(worldmeta);


        }
    );

  </script>
  </body>
</html>